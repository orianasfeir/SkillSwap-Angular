{% extends 'base.html' %}
{% load static %}

{% block title %}Add Review - SkillSwap{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 card">
    <div class="max-w-md mx-auto card-body ">
        <div class="bg-gray-800 rounded-lg shadow-md p-8">
            <h2 class="font-bold mb-6 text-white text-center card-title">Add Review</h2>
            
            <div class="mb-6">
                <h3 class="text-md font-semibold text-white mb-2">Swap Details:</h3>
                <p class="text-white">
                    You swapped {{ swap.skill_offered.name }} for {{ swap.skill_requested.name }} with 
                    {% if user == swap.user_requested %}
                        {{ swap.user_requesting.username }}
                    {% else %}
                        {{ swap.user_requested.username }}
                    {% endif %}
                </p>
            </div>
            
            <form method="post" class="space-y-6">
                {% csrf_token %}
                
                <div>
                    <label for="id_rating" class="block text-sm font-medium text-white mb-2">Rating</label>
                    <div class="flex items-center space-x-4">
                        <input type="range" name="rating" id="id_rating" min="1" max="5" step="1" 
                               class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                               value="3">
                        <span id="ratingValue" class="text-white">3</span>
                    </div>
                </div>
                
                <div>
                    <label for="id_text" class="block text-sm font-medium text-white mb-2">Review</label>
                    <textarea name="text" id="id_text" rows="4" 
                              class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                              placeholder="Share your experience with this skill swap..."></textarea>
                </div>
                
                <div class="flex justify-end space-x-4">
                    <a href="{% url 'users:dashboard' %}" class="btn btn-outline-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary">Submit Review</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    const ratingInput = document.getElementById('id_rating');
    const ratingValue = document.getElementById('ratingValue');
    
    ratingInput.addEventListener('input', function() {
        ratingValue.textContent = this.value;
    });
</script>
{% endblock %} 